import{g as L,i as y,c as M,r as j,d as s,a as S,b as N,e as O,f as n,o as V,p as R,h as q,j as a,k as i,l as e,u as l,t as _,n as b,m as c,q as x,s as F,_ as G}from"./index-CNM7-QZh.js";const J=y?"https://api.weyay.chat":"https://arab-pk.badambiz.com",K=J,Q=v=>L("".concat(K,"/api/room/get_share_detail/"),{info:v});function X(){function v(r){const u=s.getPlatform();if(u.isPc)return;const w=window.innerWidth;if(Math.min(window.screen.height,window.innerHeight)<5){setTimeout(()=>{v(r)},16);return}const f=Number((w/r).toFixed(3)),T=document.getElementById("viewport-config");T.name="viewport",T.content="width=device-width,initial-scale=".concat(f,",user-scalable=no,maximum-scale=").concat(f,",minimum-scale=").concat(f,",viewport-fit=cover"),document.documentElement.style.width="".concat(r,"px"),u.isIPhone?document.documentElement.style.height="100%":document.documentElement.style.height="".concat(window.innerHeight,"px")}v(750);const p=s.getArgsFromUrl("r");function A(){s.getPlatform().isAndroid?S():N()}function t(){const{origin:r}=window.location;if(r.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(p);else{const u=W();window.location.href="".concat(u,"://live_room?room_id=").concat(p)}}let h=0;function I(){const r=document.createElement("iframe"),{body:u}=document;r.style.cssText="position:absolute;width:1px;height:1px;",window.location.origin.indexOf("sawa-are")>=0?r.src="sawa://live_room?room_id=".concat(p):r.src="".concat(W(),"://live_room?room_id=").concat(p),u.appendChild(r),clearTimeout(h),h=setTimeout(()=>{A()},1500)}m.value.class==="diwania"||y||(s.getPlatform().isAndroid?I():t())}const m=M(()=>j()?{class:"weyayplay",name:s._T("weyayplay")}:y?{class:"weyay",name:s._T("weyay")}:s.getArgsFromUrl("ludo")?{class:"jackaroo",name:s._T("Sawa Play")}:s.getArgsFromUrl("video")?{class:"diwania",name:"Diwania"}:{class:"sawa",name:"Sawa"});function W(){const v=s.getArgsFromUrl("ludo"),p=j();return v?"sawaludo":p?"weyayplay":y?"weyay":m.value.class==="jackaroo"?"sawaludo":m.value.class==="diwania"?"sawavideo":"sawaksa"}const Y={style:{overflow:"scroll",height:"100%"}},Z={class:"header"},ee={key:0,class:"logo-weyayplay"},oe={key:1,class:"logo-weyay"},se={key:2,class:"logoC"},te={class:"text"},ae={class:"new-share",id:"new-share"},ie={key:0,class:"bottom"},ne={class:"title",dir:"auto"},le={class:"card"},re={key:0,class:"head-r"},de={key:1,class:"dot-c"},ce={key:0,class:"icon5"},ue={class:"name",dir:"auto"},me={class:"num"},ve={key:0,class:"home-icon"},pe={key:1},ye={key:0,class:"icon1"},fe={key:1,class:"icon7"},_e={key:3,class:"room-card"},we={class:"room-name"},he={class:"room-name-top",dir:"auto"},ge={class:"room-name-bottom"},ke={class:"breath"},be=O({__name:"index",setup(v){const p=j(),A=m.value.class==="jackaroo",t=n(!1),h=n(0),I=n(0),r=n(""),u=n(""),w=n(""),B=n(""),f=n(0),T=n(0),E=n(""),C=n(""),P=n(""),U=n(0),$=n(!1);V(async()=>{await R(),X()}),q(async()=>{D()});async function D(){const g=s.getArgsFromUrl("info");if(g){const[o,{result:k,data:d,message:xe}]=await Q(g);o&&k===0&&(u.value=d.room_avatar,u.value=u.value.replace(/ /g,"+"),I.value=d.room_level,r.value=d.room_user_nickname,h.value=d.room_user_duid,w.value=d.room_id,B.value=d.uid,E.value=d.avatar,C.value=d.display_uid,P.value=d.nickname,d.room_id&&(t.value=!0))}document.addEventListener("visibilitychange",()=>{document.visibilityState!=="visible"&&(console.log("不可见了"),clearTimeout(f.value),clearTimeout(T.value))}),setTimeout(()=>{var o;document.getElementById("new-share")&&(U.value=(o=document.getElementById("new-share"))==null?void 0:o.scrollHeight,setTimeout(()=>{$.value=!0}))},500)}function H(){s.getPlatform().isAndroid?S():N()}function z(){s.getArgsFromUrl("ludo"),clearTimeout(f.value);const{origin:g}=window.location,o=W();if(g.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(w.value);else if(s.getPlatform().isAndroid){const k=document.createElement("iframe"),{body:d}=document;k.style.cssText="position:absolute;width:1px;height:1px;",k.src="".concat(o,"://live_room?room_id=").concat(w.value),d.appendChild(k)}else window.location.href="".concat(o,"://live_room?room_id=").concat(w.value);f.value=setTimeout(()=>{m.value.class==="diwania"||y||H()},1e3)}return(g,o)=>(i(),a("div",Y,[e("div",Z,[l(p)?(i(),a("div",ee)):l(y)?(i(),a("div",oe)):(i(),a("div",se,[e("div",te,_(l(m).name),1),e("div",{class:b(["logo",["".concat(l(m).class)]])},null,2)]))]),e("div",ae,[o[6]||(o[6]=e("div",{class:"top"},null,-1)),o[7]||(o[7]=e("div",{class:"top-star1"},null,-1)),o[8]||(o[8]=e("div",{class:"top-star2"},null,-1)),$.value?(i(),a("div",ie)):c("",!0),$.value?(i(),a("div",{key:1,class:"bottom-star1",style:x({top:"".concat(U.value-344,"px")})},null,4)):c("",!0),$.value?(i(),a("div",{key:2,class:"bottom-star2",style:x({top:"".concat(U.value-344,"px")})},null,4)):c("",!0),e("div",ne,_(l(s.sprintf)(l(s._T)("我在{appname}等你来"),{appname:l(m).name})),1),e("div",le,[e("div",{class:b(["head",!t.value&&"head-room"]),style:x({backgroundImage:"url(".concat(t.value?u.value:E.value,")")})},[t.value?(i(),a("div",re)):c("",!0),t.value?(i(),a("div",de,o[0]||(o[0]=[e("div",{class:"dot dot1"},null,-1),e("div",{class:"dot dot2"},null,-1),e("div",{class:"dot dot3"},null,-1)]))):c("",!0)],6),o[3]||(o[3]=e("div",{class:"icon2"},null,-1)),o[4]||(o[4]=e("div",{class:"icon3"},null,-1)),e("div",{class:b(["icon4",{weyay:l(y)}])},null,2),t.value?c("",!0):(i(),a("div",ce)),o[5]||(o[5]=e("div",{class:"icon6"},null,-1)),e("div",{class:"card-content",style:x({justifyContent:t.value?"space-between":"flex-start"})},[e("div",ue,_(t.value?r.value:P.value),1),e("div",me,[F(_(t.value?h.value:C.value)+" ",1),t.value?(i(),a("div",ve)):c("",!0),t.value?c("",!0):(i(),a("div",pe,"  ID"))]),t.value?(i(),a("div",ye)):c("",!0),t.value?c("",!0):(i(),a("div",fe)),!t.value&&l(m).class!=="diwania"?(i(),a("div",{key:2,class:b(["icon8",{weyay:l(y),ludo:A}])},null,2)):c("",!0),t.value?(i(),a("div",_e,[e("div",we,[e("div",he,_(P.value),1),e("div",ge,_(C.value)+"   ID",1)]),e("div",{class:"room-head",style:x({backgroundImage:"url(".concat(E.value,")")})},null,4)])):c("",!0)],4),e("span",ke,[e("div",{class:"button",dir:"auto",onClick:z},[o[1]||(o[1]=e("div",{class:"button-icon button-left"},null,-1)),F(" "+_(l(s.sprintf)(l(s._T)("下载并打开{appname}"),{appname:l(m).name}))+" ",1),o[2]||(o[2]=e("div",{class:"button-icon button-right"},null,-1))]),e("div",{class:b(["button-c",{"-isLudo":l(m).class==="jackaroo"}])},null,2)])])])]))}}),$e=G(be,[["__scopeId","data-v-4d442e3e"]]);export{$e as default};
